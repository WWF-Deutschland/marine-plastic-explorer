(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{ef09d4344e98a758bac7:function(e,t,o){"use strict";o.r(t);var n,r=o("8af190b70a6bc55c6f1b"),a=o.n(r),i=(o("8a2d1b95e05b6a321e74"),o("d7dd51e1bf6bfc2c9c3d")),l=o("a28fc3c963a1d4d1a2e5"),c=o("0d7f0986bcd2f33d8a2a"),d=o("ab4cb61bcb2dc161defb"),s=o("ab039aecd4a1d4fedc0e"),u=o("0b3cb19af78752326f59"),f=o("eb656803928a435bd3cc"),p=o("66543f9bb6e90e461320"),b=o("761b1f7fdd256e4f5426"),m=o("045dd844c9ae122c636a"),y=o("24437210edfad996691f"),g=o("6e05b15597c94fea0ef3"),h=o("422249433a2d25af359d"),v=o("5ca68c6edf7ca33c5f8f"),j=o("76abbe2db5a955046df2"),w=o("ab7d7caa0ee3a73c9e57"),O=o("0fa1f005d5c81eaf9110"),L=o("c8e6563c3537109b383a"),_=o("0785de3f40b134973d35"),x=o("6542cd13fd5dd1bcffd4"),C=o("a72b40110d9c31c9b5c5"),E=o("d6f259ffb10cc810b5a4"),I=o("1a492921026f78aead80"),P="app.components.GroupLayers",S=Object(s.defineMessages)({columnLayer:{id:"".concat(P,".columnLayer"),defaultMessage:"Layer"},columnProject:{id:"".concat(P,".columnProject"),defaultMessage:"Project"},columnKey:{id:"".concat(P,".columnKey"),defaultMessage:"Key"},columnInfo:{id:"".concat(P,".columnInfo"),defaultMessage:"Read more"},info:{id:"".concat(P,".info"),defaultMessage:"Info"}});function M(e,t,o,r){n||(n="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),c=0;c<i;c++)l[c]=arguments[c+3];t.children=l}if(t&&a)for(var d in a)void 0===t[d]&&(t[d]=a[d]);else t||(t=a||{});return{$$typeof:n,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}var N=u.default.div.withConfig({displayName:"GroupLayers__Styled",componentId:"plf17t-0"})(["display:table;table-layout:fixed;margin-top:20px;margin-bottom:20px;"]),A=u.default.div.withConfig({displayName:"GroupLayers__ListHeader",componentId:"plf17t-1"})(["display:table-header-group;"]),T=u.default.div.withConfig({displayName:"GroupLayers__ListHeaderRow",componentId:"plf17t-2"})(["display:table-row;"]),G=u.default.div.withConfig({displayName:"GroupLayers__ListHeaderCell",componentId:"plf17t-3"})(["display:table-cell;font-size:14px;border-bottom:1px solid;vertical-align:middle;color:",";"],function(e){return e.theme.global.colors["dark-4"]}),F=Object(u.default)(G).withConfig({displayName:"GroupLayers__ListHeaderKey",componentId:"plf17t-4"})(["width:60px;text-align:center;"]),B=Object(u.default)(G).withConfig({displayName:"GroupLayers__ListHeaderInfo",componentId:"plf17t-5"})(["width:60px;text-align:center;"]),H=u.default.div.withConfig({displayName:"GroupLayers__ListBody",componentId:"plf17t-6"})(["display:table-row-group;"]),W=u.default.div.withConfig({displayName:"GroupLayers__ListBodyRow",componentId:"plf17t-7"})(["display:table-row;"]),z=u.default.div.withConfig({displayName:"GroupLayers__ListBodyCell",componentId:"plf17t-8"})(["display:table-cell;vertical-align:middle;height:54px;padding:6px 0;border-bottom:1px solid ",";"],function(e){return e.theme.global.colors["light-4"]}),D=Object(u.default)(z).withConfig({displayName:"GroupLayers__ListBodyCellCenter",componentId:"plf17t-9"})(["text-align:center;"]),$=u.default.span.withConfig({displayName:"GroupLayers__Label",componentId:"plf17t-10"})(["line-height:18px;"]),K=Object(u.default)(function(e){return a.a.createElement(p.a,k({},e,{plain:!0}))}).withConfig({displayName:"GroupLayers__InfoButton",componentId:"plf17t-11"})(["background:",";color:",";padding:0 ",";border-radius:5px;"],function(e){return e.theme.global.colors.black},function(e){return e.theme.global.colors.white},function(e){return e.theme.global.edgeSize.xsmall}),U=Object(u.default)(I.a).withConfig({displayName:"GroupLayers__StyledCheckBox",componentId:"plf17t-12"})(["margin-right:6px;"]),q=M(y.a,{size:"small",color:"dark-4"}),R=M(D,{},void 0,"[Key]");var J,Q=function(e){var t=e.layers,o=e.activeLayers,n=e.onToggleLayer,r=e.onLayerInfo,i=e.locale,l=e.projects;return M(N,{},void 0,M(A,{},void 0,M(T,{},void 0,M(G,{},void 0,M(f.a,{direction:"row",gap:"small",align:"center"},void 0,q,a.a.createElement(s.FormattedMessage,S[l?"columnProject":"columnLayer"]))),!l&&M(F,{},void 0,a.a.createElement(s.FormattedMessage,S.columnKey)),M(B,{},void 0,a.a.createElement(s.FormattedMessage,S.columnInfo)))),M(H,{},void 0,t&&t.map(function(e){var t=l?"project-".concat(e.project_id):e.id,c=l?t:e["content-id"]||e.id,d=l?e["project_title_".concat(i)]||e["project_title_".concat(_.DEFAULT_LOCALE)]:e.title[i]||e.title[_.DEFAULT_LOCALE];return M(W,{},t,M(z,{},void 0,M(U,{checked:o.indexOf(t)>-1,onChange:function(){return n(t)},label:M($,{},void 0,d)})),!l&&R,M(D,{},void 0,M(K,{onClick:function(){return r(c)},label:a.a.createElement(s.FormattedMessage,S.info)})))})))},V=Object(s.defineMessages)({title:{id:"".concat("app.containers.PanelExplore",".title"),defaultMessage:"Map layers"}});function X(e,t,o,n){J||(J="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=n;else if(a>1){for(var i=new Array(a),l=0;l<a;l++)i[l]=arguments[l+3];t.children=i}if(t&&r)for(var c in r)void 0===t[c]&&(t[c]=r[c]);else t||(t=r||{});return{$$typeof:J,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}function Y(){return(Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}var Z=Object(u.default)(function(e){return a.a.createElement(f.a,e)}).withConfig({displayName:"PanelExplore__Styled",componentId:"sc-39h5rt-0"})(["position:absolute;right:0;top:0;bottom:0;width:","px;pointer-events:all;overflow-y:auto;"],function(e){return e.panelWidth||400}),ee=Object(u.default)(function(e){return a.a.createElement(f.a,Y({background:"black"},e))}).withConfig({displayName:"PanelExplore__PanelHeader",componentId:"sc-39h5rt-1"})([""]),te=Object(u.default)(function(e){return a.a.createElement(f.a,Y({},e,{pad:"small"}))}).withConfig({displayName:"PanelExplore__PanelBody",componentId:"sc-39h5rt-2"})([""]),oe=Object(u.default)(function(e){return a.a.createElement(f.a,Y({},e,{pad:{horizontal:"small",bottom:"small"}}))}).withConfig({displayName:"PanelExplore__TitleWrap",componentId:"sc-39h5rt-3"})([""]),ne=Object(u.default)(v.a).withConfig({displayName:"PanelExplore__Title",componentId:"sc-39h5rt-4"})([""]),re=Object(u.default)(function(e){return a.a.createElement(f.a,Y({},e,{direction:"row",gap:"hair"}))}).withConfig({displayName:"PanelExplore__Tabs",componentId:"sc-39h5rt-5"})(["padding:1px;"]),ae=Object(u.default)(function(e){return a.a.createElement(p.a,Y({plain:!0},e))}).withConfig({displayName:"PanelExplore__TabLink",componentId:"sc-39h5rt-6"})(["padding:0 ",";font-weight:600;color:",";opacity:1;border-bottom:3px solid;border-color:",";"],function(e){return e.theme.global.edgeSize.small},function(e){var t=e.theme,o=e.active;return t.global.colors[o?"white":"light-4"]},function(e){var t=e.theme;return e.active?t.global.colors.white:"transparent"}),ie=Object(u.default)(v.a).withConfig({displayName:"PanelExplore__TabLinkAnchor",componentId:"sc-39h5rt-7"})([""]),le=Object(u.default)(f.a).withConfig({displayName:"PanelExplore__SectionLayerGroup",componentId:"sc-39h5rt-8"})([""]),ce=Object(u.default)(function(e){return a.a.createElement(j.a,Y({},e,{level:4}))}).withConfig({displayName:"PanelExplore__TitleGroup",componentId:"sc-39h5rt-9"})(["margin-bottom:0;"]),de=Object(u.default)(w.a).withConfig({displayName:"PanelExplore__DescriptionGroup",componentId:"sc-39h5rt-10"})(["margin-bottom:0;"]),se="PanelExplore",ue={tab:0,layersMemo:null,prrojectsMemo:null},fe=X(O.a,{size:"xlarge"}),pe=X(y.a,{size:"xlarge"});var be=Object(l.b)({projects:function(e){return Object(x.c)(e,{key:"projects"})},layersConfig:function(e){return Object(x.k)(e)},exploreConfig:function(e){return Object(x.i)(e)},locale:function(e){return Object(x.l)(e)},uiState:function(e){return Object(x.t)(e,{key:se})},activeLayers:function(e){return Object(x.a)(e)}});var me,ye=Object(i.connect)(be,function(e){return{onSetTab:function(t,o){return e(Object(C.q)(se,Object.assign({},ue,o,{tab:t})))},onMemoLayers:function(t,o){return e(Object(C.q)(se,Object.assign({},ue,o,{layersMemo:t})))},onMemoProjects:function(t,o){return e(Object(C.q)(se,Object.assign({},ue,o,{projectsMemo:t})))},onLayerInfo:function(t){return e(Object(C.m)(t))},onToggleLayer:function(t){return e(Object(C.r)(t))},onSetLayers:function(t){return e(Object(C.n)(t))}}}),ge=Object(d.compose)(ye)(function(e){var t=e.onClose,o=e.onLayerInfo,n=e.onToggleLayer,i=e.onSetLayers,l=e.onMemoLayers,c=e.onSetTab,d=e.projects,u=e.layersConfig,f=e.exploreConfig,m=e.locale,y=e.uiState,g=e.activeLayers,h=y?Object.assign({},ue,y):ue,v=h.tab,j=h.layersMemo;Object(r.useEffect)(function(){!j||g&&0!==g.length||i(j)},[]),Object(r.useEffect)(function(){l(g,y)},[g]);var w=f&&f[v];return X(b.a.Consumer,{},void 0,function(e){return X(Z,{background:"white",panelWidth:Object(L.b)(e)},void 0,X("div",{},void 0,X(ee,{},void 0,X(p.a,{onClick:function(){return t()},icon:fe,plain:!0,alignSelf:"end"}),X(oe,{},void 0,pe,X(ne,{},void 0,a.a.createElement(s.FormattedMessage,V.title))),X(re,{},void 0,f&&f.map(function(e,t){return X(ae,{onClick:function(){return c(t,y)},active:v===t,disabled:v===t,label:X(ie,{active:v===t},void 0,e.title[m]||e.title[_.DEFAULT_LOCALE])},e.id)}))),X(te,{},void 0,u&&w&&w.id!==E.h&&w.groups&&w.groups.map(function(e){return X(le,{},e.id,X(ce,{},void 0,e.title[m]||e.title[_.DEFAULT_LOCALE]),e.description&&X(de,{},void 0,e.description[m]||e.description[_.DEFAULT_LOCALE]),X(Q,{group:e,layers:u.filter(function(t){return t.group===e.id}),locale:m,activeLayers:g,onLayerInfo:o,onToggleLayer:n}))}),u&&w&&w.id!==E.h&&!w.groups&&X(le,{},void 0,X(Q,{group:w,layers:u.filter(function(e){return e.category===w.id}),locale:m,activeLayers:g,onLayerInfo:o,onToggleLayer:n})),d&&w&&w.id===E.h&&X(le,{},void 0,X(Q,{group:w.id,layers:d,projects:!0,locale:m,activeLayers:g,onLayerInfo:o,onToggleLayer:n})))))})}),he=o("f9c0d22799479965d07c"),ve=Object(s.defineMessages)({showLayerPanel:{id:"".concat("app.containers.PanelExplore",".showLayerPanel"),defaultMessage:"Layers"},showProjects:{id:"".concat("app.containers.PanelExplore",".showProjects"),defaultMessage:"Show WWF-projects"},hideProjects:{id:"".concat("app.containers.PanelExplore",".hideProjects"),defaultMessage:"Hide WWF-projects"},showProjectsShort:{id:"".concat("app.containers.PanelExplore",".showProjectsShort"),defaultMessage:"Show projects"},hideProjectsSHort:{id:"".concat("app.containers.PanelExplore",".hideProjectsShort"),defaultMessage:"Hide projects"}});function je(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var o=[],n=!0,r=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(o.push(i.value),!t||o.length!==t);n=!0);}catch(e){r=!0,a=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw a}}return o}(e,t)||Le(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function we(e,t,o,n){me||(me="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=n;else if(a>1){for(var i=new Array(a),l=0;l<a;l++)i[l]=arguments[l+3];t.children=i}if(t&&r)for(var c in r)void 0===t[c]&&(t[c]=r[c]);else t||(t=r||{});return{$$typeof:me,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}function Oe(e){return function(e){if(Array.isArray(e))return _e(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Le(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Le(e,t){if(e){if("string"===typeof e)return _e(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_e(e,t):void 0}}function _e(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function xe(){return(xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}o.d(t,"ModuleExplore",function(){return ke});var Ce=Object(u.default)(function(e){return a.a.createElement(f.a,xe({},e,{direction:"row"}))}).withConfig({displayName:"ModuleExplore__Buttons",componentId:"sc-1nskavd-0"})(["position:absolute;right:20px;top:20px;pointer-events:all;"]),Ee=Object(u.default)(function(e){return a.a.createElement(p.a,xe({plain:!0,reverse:!0},e))}).withConfig({displayName:"ModuleExplore__ShowButton",componentId:"sc-1nskavd-1"})(["background:",";color:",";border-radius:20px;padding:5px 15px;"],function(e){return e.theme.global.colors.black},function(e){return e.theme.global.colors.white}),Ie=u.default.div.withConfig({displayName:"ModuleExplore__ProjectButtonWrap",componentId:"sc-1nskavd-2"})(["position:absolute;right:","px;top:20px;pointer-events:all;"],function(e){return e.asideOffset+20}),Pe=function(e){var t=e.showAll,o=e.lids,n=e.pids,r=e.onClick;return we(Ee,{onClick:function(){r(t?Object(g.uniq)([].concat(Oe(o),Oe(n.map(function(e){return"project-".concat(e)})))):o.filter(function(e){return!Object(h.a)(e,"project-")}))},label:t?a.a.createElement(s.FormattedMessage,ve.showProjects):a.a.createElement(s.FormattedMessage,ve.hideProjects)})},Se=we(c.Helmet,{},void 0,we("title",{},void 0,"ModuleExplore"),we("meta",{name:"description",content:"Description of ModuleExplore"})),Me=we(y.a,{color:"white"});function ke(e){var t=e.onSetLayers,o=e.layerIds,n=e.projects,i=je(Object(r.useState)(!0),2),l=i[0],c=i[1],d=je(Object(r.useState)(!1),2),u=d[0],f=d[1],p=n?n.map(function(e){return e.project_id}):[],y=o.filter(function(e){if(Object(h.a)(e,"project-")){var t=e.replace("project-","");return p.indexOf(t)>-1}return!1}).map(function(e){return e.replace("project-","")}),g=n&&y.length>=n.length;return we(b.a.Consumer,{},void 0,function(e){return we("div",{},void 0,Se,we(he.a,{},void 0,l&&"small"!==e&&we(Ie,{asideOffset:Object(L.b)(e)},void 0,we(Pe,{showAll:!g,lids:o,pids:p,onClick:t})),l&&"small"!==e&&we(ge,{onClose:function(){return c(!1)}}),u&&"small"===e&&we(m.a,{full:!0},void 0,we(ge,{onClose:function(){return f(!1)}})),(!l&&"small"!==e||!u&&"small"===e)&&we(Ce,{},void 0,we(Pe,{showAll:!g,lids:o,pids:p,onClick:t}),we(Ee,{onClick:function(){c(!0),f(!0)},icon:Me,label:a.a.createElement(s.FormattedMessage,ve.showLayerPanel)}))))})}var Ne=Object(l.b)({layerIds:function(e){return Object(x.a)(e)},projects:function(e){return Object(x.c)(e,{key:"projects"})}});var Ae=Object(i.connect)(Ne,function(e){return{onSetLayers:function(t){e(Object(C.n)(t))}}});t.default=Object(d.compose)(Ae)(ke)}}]);